---
import MainLayout from "../layouts/MainLayout.astro";
import ArtworkCard from '../components/ArtworkCard.astro';

import bronzeskulpturer from '../assets/images/vaerk_oversigt_bronzeskulpturer.jpg';
import explorer from '../assets/images/vaerk_oversigt_explorer.jpg';
import fremtiden from '../assets/images/vaerk_oversigt_fremtiden_forgrener_sig_til_nutiden.jpg';
import interferens from '../assets/images/vaerk_oversigt_interferens.jpg';
import lokalePortaler from '../assets/images/vaerk_oversigt_lokale_portaler.jpg';
import pantaRei from '../assets/images/vaerk_oversigt_panta_rei.jpg';
import remise from '../assets/images/vaerk_oversigt_remise.jpg';
import staccato from '../assets/images/vaerk_oversigt_staccato_snapshot.jpg';
import traad from '../assets/images/vaerk_oversigt_traad.jpg';
import uendelig from '../assets/images/vaerk_oversigt_uendelig.png';

const artworks = [
  { title: 'TRÅD', id: 'traad', image: traad, artist: 'A Kassen' },
  { title: 'REMISE', id: 'remise', image: remise, artist: 'A Kassen' },
  { title: 'INTERFERENS', id: 'interferens', image: interferens, artist: 'A Kassen' },
  { title: 'Fremtiden forgrener sig til nutiden', id: 'fremtiden', image: fremtiden, artist: 'Peter Holst Henckel' },
  { title: 'Lokale Portaler', id: 'portaler', image: lokalePortaler, artist: 'Rumgehør & Tideland Studio' },
  { title: 'Staccato Snapshot', id: 'staccato', image: staccato, artist: 'Carl Lützen' },
  { title: 'Uendelig', id: 'uendelig', image: uendelig, artist: 'Molly Haslund' },
  { title: 'Explorer', id: 'explorer', image: explorer, artist: 'Mette Gitz-Johansen' },
  { title: 'Panta Rei', id: 'panta', image: pantaRei, artist: 'Bjørn Nørgaard' },
  { title: 'Bronzeskulpturer', id: 'bronzeskulpturer', image: bronzeskulpturer, artist: 'Per Kirkeby' },
];
---

<MainLayout title="Værker">
  <section class="relative">

    <!-- Desktop (hover-effekt) -->
    <div class="hidden md:block relative min-h-screen">
      {artworks.map((art) => (
        <img
          id={`img-${art.id}`}
          src={art.image.src}
          alt={`Billede af ${art.title}`}
          class="absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-300 pointer-events-none"
        />
      ))}

      <div class="relative px-6xl py-7xl z-10 flex flex-col gap-s text-heading-02-mobile sm:text-display-02-desktop font-medium text-lysgul-500">
        {artworks.map((art) => (
          <h2
            class="cursor-pointer hover:underline"
            onmouseenter={`document.querySelectorAll('[id^="img-"]').forEach(el => el.classList.add('opacity-0')); document.getElementById('img-${art.id}')?.classList.remove('opacity-0');`}
            onmouseleave={`document.getElementById('img-${art.id}')?.classList.add('opacity-0');`}
          >
            {art.title}
          </h2>
        ))}
      </div>
    </div>

    <!-- Mobilvisning (cards) -->
    <div class="block md:hidden">
      <div class="pb-l grid grid-cols-1 sm:grid-cols-2 gap-s">
        {artworks.map((art) => (
          <ArtworkCard 
            imageSrc={art.image.src}
            imageAlt={`Billede af ${art.title}`}
            artist={art.artist}
            title={art.title}
          />
        ))}
      </div>
    </div>

  </section>
</MainLayout>
